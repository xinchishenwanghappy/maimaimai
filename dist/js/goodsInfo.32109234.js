(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["goodsInfo"],{"0a49":function(t,e,i){var n=i("9b43"),o=i("626a"),s=i("4bf8"),a=i("9def"),r=i("cd1c");t.exports=function(t,e){var i=1==t,c=2==t,f=3==t,l=4==t,d=6==t,u=5==t||d,m=e||r;return function(e,r,h){for(var p,g,v=s(e),b=o(v),y=n(r,h,3),w=a(b.length),x=0,_=i?m(e,w):c?m(e,0):void 0;w>x;x++)if((u||x in b)&&(p=b[x],g=y(p,x,v),t))if(i)_[x]=g;else if(g)switch(t){case 3:return!0;case 5:return p;case 6:return x;case 2:_.push(p)}else if(l)return!1;return d?-1:f||l?l:_}}},1169:function(t,e,i){var n=i("2d95");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"11e9":function(t,e,i){var n=i("52a7"),o=i("4630"),s=i("6821"),a=i("6a99"),r=i("69a8"),c=i("c69a"),f=Object.getOwnPropertyDescriptor;e.f=i("9e1e")?f:function(t,e){if(t=s(t),e=a(e,!0),c)try{return f(t,e)}catch(t){}if(r(t,e))return o(!n.f.call(t,e),t[e])}},"21de":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t.goodsInfoData.goodsinfo?i("div",{staticClass:"section"},[i("div",{staticClass:"wrapper clearfix"},[i("div",{staticClass:"wrap-box"},[i("div",{staticClass:"left-925"},[i("div",{staticClass:"goods-box clearfix"},[i("div",{staticClass:"pic-box"},[i("div",{staticClass:"magnifier",attrs:{id:"magnifier1"}},[t._m(1),i("div",{staticClass:"magnifier-assembly"},[t._m(2),i("div",{staticClass:"magnifier-line"},[i("ul",{staticClass:"clearfix animation03"},t._l(t.goodsInfoData.imglist,function(t){return i("li",{key:t.id},[i("div",{staticClass:"small-img"},[i("img",{attrs:{src:t.thumb_path}})])])}))])]),i("div",{staticClass:"magnifier-view"})])]),i("div",{staticClass:"goods-spec"},[i("h1",[t._v(t._s(t.goodsInfoData.goodsinfo.title))]),i("p",{staticClass:"subtitle"},[t._v(t._s(t.goodsInfoData.goodsinfo.sub_title))]),i("div",{staticClass:"spec-box"},[i("dl",[i("dt",[t._v("货号")]),i("dd",{attrs:{id:"commodityGoodsNo"}},[t._v(t._s(t.goodsInfoData.goodsinfo.goods_no))])]),i("dl",[i("dt",[t._v("市场价")]),i("dd",[i("s",{attrs:{id:"commodityMarketPrice"}},[t._v(t._s(t.goodsInfoData.goodsinfo.market_price))])])]),i("dl",[i("dt",[t._v("销售价")]),i("dd",[i("em",{staticClass:"price",attrs:{id:"commoditySellPrice"}},[t._v(t._s(t.goodsInfoData.goodsinfo.sell_price))])])])]),i("div",{staticClass:"spec-box"},[i("dl",[i("dt",[t._v("购买数量")]),i("dd",[i("div",{staticClass:"stock-box"},[i("el-input-number",{attrs:{size:"small",min:1,max:t.goodsInfoData.goodsinfo.stock_quantity,label:"描述文字"},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}})],1),i("span",{staticClass:"stock-txt"},[t._v("\n                                            库存\n                                            "),i("em",{attrs:{id:"commodityStockNum"}},[t._v(t._s(t.goodsInfoData.goodsinfo.stock_quantity))]),t._v("件\n                                        ")])])]),i("dl",[i("dd",[i("div",{staticClass:"btn-buy",attrs:{id:"buyButton"}},[i("button",{staticClass:"buy",attrs:{onclick:"cartAdd(this,'/',1,'/shopping.html');"}},[t._v("立即购买")]),i("button",{ref:"addCart",staticClass:"add",on:{click:t.addShopCart}},[t._v("加入购物车")])])])])])])]),i("div",{staticClass:"goods-tab bg-wrap",attrs:{id:"goodsTabs"}},[i("Affix",[i("div",{staticClass:"tab-head",staticStyle:{position:"static",top:"517px",width:"925px"},attrs:{id:"tabHead"}},[i("ul",[i("li",{on:{click:function(e){t.isShow=!0}}},[i("a",{class:{selected:t.isShow},attrs:{href:"javascript:;"}},[t._v("商品介绍")])]),i("li",{on:{click:function(e){t.isShow=!1}}},[i("a",{class:{selected:!t.isShow},attrs:{href:"javascript:;"}},[t._v("商品评论")])])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"tab-content entry",staticStyle:{display:"block"},domProps:{innerHTML:t._s(t.goodsInfoData.goodsinfo.content)}},[t._v("\n                            内容\n                        ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"}],staticClass:"tab-content",staticStyle:{display:"block"}},[i("div",{staticClass:"comment-box"},[i("div",{staticClass:"form-box",attrs:{id:"commentForm",name:"commentForm"}},[t._m(3),i("div",{staticClass:"conn-box"},[i("div",{staticClass:"editor"},[i("textarea",{ref:"txtContentRef",attrs:{id:"txtContent",name:"txtContent",sucmsg:" ",datatype:"*10-1000",nullmsg:"请填写评论内容！"}}),i("span",{staticClass:"Validform_checktip"})]),i("div",{staticClass:"subcon"},[i("input",{staticClass:"submit",attrs:{id:"btnSubmit",name:"submit",type:"submit",value:"提交评论"},on:{click:t.postComments}}),i("span",{staticClass:"Validform_checktip"})])])]),i("ul",{staticClass:"list-box",attrs:{id:"commentList"}},[0==t.getCommentsData.totalcount?i("p",{staticStyle:{margin:"5px 0px 15px 69px","line-height":"42px","text-align":"center",border:"1px solid rgb(247, 247, 247)"}},[t._v("暂无评论，快来抢沙发吧！")]):t._e(),t._l(t.getCommentsData.message,function(e){return i("li",{key:e.id},[t._m(4,!0),i("div",{staticClass:"inner-box"},[i("div",{staticClass:"info"},[i("span",[t._v(t._s(e.user_name))]),i("span",[t._v(t._s(t._f("formDate")(e.add_time,"YYYY-MM-DD HH:mm:ss")))])]),i("p",[t._v(t._s(e.content))])])])})],2),i("div",{staticClass:"page-box",staticStyle:{margin:"5px 0px 0px 62px"}},[i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"current-page":t.getCommentsData.pageIndex,"page-sizes":[2,5,10,20],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.getCommentsData.totalcount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])])],1)]),i("div",{staticClass:"left-220"},[i("div",{staticClass:"bg-wrap nobg"},[i("div",{staticClass:"sidebar-box"},[i("h4",[t._v("推荐商品")]),i("ul",{staticClass:"side-img-list"},t._l(t.goodsInfoData.hotgoodslist,function(e){return i("li",{key:e.id},[i("div",{staticClass:"img-box"},[i("router-link",{attrs:{to:"/goodsInfo/"+e.id}},[i("img",{attrs:{src:e.img_url}})])],1),i("div",{staticClass:"txt-box"},[i("router-link",{attrs:{to:"/goodsInfo/"+e.id}},[t._v(t._s(e.title))]),i("span",[t._v(t._s(t._f("formDate")(e.add_time)))])],1)])}))])])])])])]):t._e(),i("transition",{on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[t.goodsInfoData.imglist?i("div",{directives:[{name:"show",rawName:"v-show",value:t.showTip,expression:"showTip"}],ref:"animateDivRef",staticClass:"animateDivBox"},[i("img",{attrs:{src:t.goodsInfoData.imglist[0].original_path,alt:""}})]):t._e()])],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("div",{staticClass:"location"},[i("span",[t._v("当前位置：")]),i("a",{attrs:{href:"/index.html"}},[t._v("首页")]),t._v(" >\n        "),i("a",{attrs:{href:"/goods.html"}},[t._v("购物商城")]),i("a",{attrs:{href:"/goods/42/1.html"}},[t._v("商品详情")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"magnifier-container"},[i("div",{staticClass:"images-cover"}),i("div",{staticClass:"move-view"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"magnifier-btn"},[i("span",{staticClass:"magnifier-btn-left"},[t._v("<")]),i("span",{staticClass:"magnifier-btn-right"},[t._v(">")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"avatar-box"},[i("i",{staticClass:"iconfont icon-user-full"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"avatar-box"},[i("i",{staticClass:"iconfont icon-user-full"})])}],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"point",class:t.classes,style:t.styles},[t._t("default")],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.slot,expression:"slot"}],style:t.slotStyle})])},a=[];function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i("c5f6");var c=i("8bbf"),f=i.n(c);const l=f.a.prototype.$isServer,d=function(){return!l&&document.addEventListener?function(t,e,i){t&&e&&i&&t.addEventListener(e,i,!1)}:function(t,e,i){t&&e&&i&&t.attachEvent("on"+e,i)}}(),u=function(){return!l&&document.removeEventListener?function(t,e,i){t&&e&&t.removeEventListener(e,i,!1)}:function(t,e,i){t&&e&&t.detachEvent("on"+e,i)}}();var m="ivu-affix";function h(t,e){var i=e?"pageYOffset":"pageXOffset",n=e?"scrollTop":"scrollLeft",o=t[i];return"number"!==typeof o&&(o=window.document.documentElement[n]),o}function p(t){var e=t.getBoundingClientRect(),i=h(window,!0),n=h(window),o=window.document.body,s=o.clientTop||0,a=o.clientLeft||0;return{top:e.top+i-s,left:e.left+n-a}}var g={name:"Affix",props:{offsetTop:{type:Number,default:0},offsetBottom:{type:Number}},data:function(){return{affix:!1,styles:{},slot:!1,slotStyle:{}}},computed:{offsetType:function(){var t="top";return this.offsetBottom>=0&&(t="bottom"),t},classes:function(){return[r({},"".concat(m),this.affix)]}},mounted:function(){d(window,"scroll",this.handleScroll),d(window,"resize",this.handleScroll)},beforeDestroy:function(){u(window,"scroll",this.handleScroll),u(window,"resize",this.handleScroll)},methods:{handleScroll:function(){var t=this.affix,e=h(window,!0),i=p(this.$el),n=window.innerHeight,o=this.$el.getElementsByTagName("div")[0].offsetHeight;i.top-this.offsetTop<e&&"top"==this.offsetType&&!t?(this.affix=!0,this.slotStyle={width:this.$refs.point.clientWidth+"px",height:this.$refs.point.clientHeight+"px"},this.slot=!0,this.styles={top:"".concat(this.offsetTop,"px"),left:"".concat(i.left,"px"),width:"".concat(this.$el.offsetWidth,"px")},this.$emit("on-change",!0)):i.top-this.offsetTop>e&&"top"==this.offsetType&&t&&(this.slot=!1,this.slotStyle={},this.affix=!1,this.styles=null,this.$emit("on-change",!1)),i.top+this.offsetBottom+o>e+n&&"bottom"==this.offsetType&&!t?(this.affix=!0,this.styles={bottom:"".concat(this.offsetBottom,"px"),left:"".concat(i.left,"px"),width:"".concat(this.$el.offsetWidth,"px")},this.$emit("on-change",!0)):i.top+this.offsetBottom+o<e+n&&"bottom"==this.offsetType&&t&&(this.affix=!1,this.styles=null,this.$emit("on-change",!1))}}},v=g,b=i("2877"),y=Object(b["a"])(v,s,a,!1,null,null,null);y.options.__file="affix.vue";var w=y.exports,x=w;i("cadf"),i("551c"),i("097d"),i("7514");function _(t){return _="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function C(t){return C="function"===typeof Symbol&&"symbol"===_(Symbol.iterator)?function(t){return _(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_(t)},C(t)}(function(t){var e={magnifier:".magnifier",container:".magnifier-container",containerImg:".images-cover",view:".magnifier-view",width:368,height:368,moveView:".move-view",moveWidth:null,zoom:3,thumbnail:".magnifier-line > ul",assembly:".magnifier-btn",index:0};t.fn.imgzoon=function(i){if("object"==C(i))for(var n in i)e[n]=i[n];var o={};o.magnifier=t(e.magnifier),o.container=o.magnifier.find(e.container),o.view=o.magnifier.find(e.view),o.moveView=o.magnifier.find(e.moveView),o.thumbnail=o.magnifier.find(e.thumbnail),o.assembly=o.magnifier.find(e.assembly),o.containerImg=o.magnifier.find(e.containerImg);var s,a,r,c,f,l,d,u,m,h=o.containerImg;o.magnifier.css({width:e.width}),o.container.css({width:e.width,height:e.height}),o.view.css({width:e.width,height:e.height}),s=e.moveWidth?e.moveWidth:e.width/e.zoom,a=s,o.moveView.css({width:s,height:a}),o.eqImg=function(){var t=new Image,i=o.thumbnail.find("img").eq(e.index).attr("src");t.src=i;e.width,e.height;function n(){var p;0==t.width&&(t.onload=n),t.width>t.height?(d=e.width,u=t.height/(t.width/e.width)):(d=t.width/(t.height/e.width),u=e.width),h.empty().append('<img src="'+i+'" width="'+d+'" height="'+u+'" style="'+p+'" />'),m=e.width/s,o.view.empty().append('<img src="'+i+'" width="'+d*m+'" height="'+u*m+'" />'),r=(e.width-d)/2,c=e.width-r-s+1,f=(e.height-u)/2,l=e.height-f-a+1}o.thumbnail.find(">*").removeClass("active").eq(e.index).addClass("active"),n()},o.eqImg(),o.moveFn=function(i){var n=i.clientX-o.magnifier.offset().left-s/2,h=i.clientY-o.magnifier.offset().top+t(document).scrollTop()-a/2,p=n>r?n<c?n:c:r,g=h>f?h<l?h:l:f;g=g>0?g>e.width-a?e.height-a:g:0,o.moveView.css({left:p,top:g,display:"block"});var v=(p-(e.width-d)/2)*m,b=(g-(e.height-u)/2)*m;o.view.css({display:"block"}).find("img").css({"margin-left":-v,"margin-top":-b})},o.container.on("mousemove",function(t){o.moveFn(t)}).on("mouseleave",function(){o.moveView.hide(),o.view.hide()});var p=o.thumbnail.find(">*"),g=p.length;o.imgMove=function(t){t?e.index++:e.index--;var i=Math.ceil(e.width/p.width()/2);if(g<i)return!1;e.index<0?e.index=0:e.index>g-i?e.index=g-i:e.index;var n=p.width()*e.index-p.width();o.thumbnail.css({left:(n>0?-n:0)+"px"})},o.assembly.find(">*").on("click",function(){o.imgMove(t(this).index())}),p.on("click",function(){e.index=t(this).index(),o.eqImg(),o.imgMove(e.index)}),o.setIndex=function(t){e.index=t||0},t.myimgzoomobj=o}})(jQuery);var I={components:{Affix:x},data:function(){return{goodsInfoData:{},count:1,isShow:!0,pageIndex:1,pageSize:5,getCommentsData:{},showTip:!1,addCartOffset:null,shopCartOffset:null}},created:function(){this.goodsInfo(),this.getCommentsInfo()},watch:{$route:function(){this.count=1,this.goodsInfo()}},updated:function(){$("#magnifier1").imgzoon({magnifier:"#magnifier1"})},methods:{goodsInfo:function(){var t=this,e="site/goods/getgoodsinfo/".concat(this.$route.params.goodsid);this.$axios.get(e).then(function(e){t.goodsInfoData=e.data.message,setTimeout(function(){t.addCartOffset=$(t.$refs.addCart).offset(),$(t.$refs.animateDivRef).offset(t.addCartOffset),t.shopCartOffset=$("#shoppingCartCount").offset()},200)})},getCommentsInfo:function(){var t=this,e="site/comment/getbypage/goods/".concat(this.$route.params.goodsid,"?pageIndex=").concat(this.pageIndex,"&pageSize=").concat(this.pageSize);this.$axios.get(e).then(function(e){t.getCommentsData=e.data})},handleSizeChange:function(t){this.pageSize=t,this.pageIndex=1,this.getCommentsInfo()},handleCurrentChange:function(t){this.pageIndex=t,this.getCommentsInfo()},postComments:function(){var t=this;if(0!=this.$refs.txtContentRef.value.trim().length){var e="site/validate/comment/post/goods/".concat(this.$route.params.goodsid);this.$axios.post(e,{commenttxt:this.$refs.txtContentRef.value}).then(function(e){0==e.data.status&&(t.$refs.txtContentRef.value="",t.$message({message:"评论成功",type:"success"}),t.pageIndex=1,t.getCommentsInfo())})}else this.$message({message:"评论不能为空",type:"warning"})},addShopCart:function(){this.showTip=!0,this.$store.commit("addGoods",{goodsId:this.$route.params.goodsid,count:this.count})},beforeEnter:function(t){t.style.left="".concat(this.addCartOffset.left,"px"),t.style.top="".concat(this.addCartOffset.top,"px"),t.style.transform="scale(1)"},enter:function(t,e){t.style.transition="all 1s",t.offsetWidth,t.style.left="".concat(this.shopCartOffset.left,"px"),t.style.top="".concat(this.shopCartOffset.top,"px"),t.style.transform="scale(.5)",e()},afterEnter:function(){this.showTip=!1}}},S=I,E=(i("c1fb"),Object(b["a"])(S,n,o,!1,null,"2b9f39af",null));E.options.__file="goodsInfo.vue";e["default"]=E.exports},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"591c":function(t,e,i){},"5dbc":function(t,e,i){var n=i("d3f4"),o=i("8b97").set;t.exports=function(t,e,i){var s,a=e.constructor;return a!==i&&"function"==typeof a&&(s=a.prototype)!==i.prototype&&n(s)&&o&&o(t,s),t}},7514:function(t,e,i){"use strict";var n=i("5ca1"),o=i("0a49")(5),s="find",a=!0;s in[]&&Array(1)[s](function(){a=!1}),n(n.P+n.F*a,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(s)},"8b97":function(t,e,i){var n=i("d3f4"),o=i("cb7c"),s=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return s(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:s}},9093:function(t,e,i){var n=i("ce10"),o=i("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},aa77:function(t,e,i){var n=i("5ca1"),o=i("be13"),s=i("79e5"),a=i("fdef"),r="["+a+"]",c="​",f=RegExp("^"+r+r+"*"),l=RegExp(r+r+"*$"),d=function(t,e,i){var o={},r=s(function(){return!!a[t]()||c[t]()!=c}),f=o[t]=r?e(u):a[t];i&&(o[i]=f),n(n.P+n.F*r,"String",o)},u=d.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(f,"")),2&e&&(t=t.replace(l,"")),t};t.exports=d},c1fb:function(t,e,i){"use strict";var n=i("591c"),o=i.n(n);o.a},c5f6:function(t,e,i){"use strict";var n=i("7726"),o=i("69a8"),s=i("2d95"),a=i("5dbc"),r=i("6a99"),c=i("79e5"),f=i("9093").f,l=i("11e9").f,d=i("86cc").f,u=i("aa77").trim,m="Number",h=n[m],p=h,g=h.prototype,v=s(i("2aeb")(g))==m,b="trim"in String.prototype,y=function(t){var e=r(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():u(e,3);var i,n,o,s=e.charCodeAt(0);if(43===s||45===s){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var a,c=e.slice(2),f=0,l=c.length;f<l;f++)if(a=c.charCodeAt(f),a<48||a>o)return NaN;return parseInt(c,n)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof h&&(v?c(function(){g.valueOf.call(i)}):s(i)!=m)?a(new p(y(e)),i,h):y(e)};for(var w,x=i("9e1e")?f(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;x.length>_;_++)o(p,w=x[_])&&!o(h,w)&&d(h,w,l(p,w));h.prototype=g,g.constructor=h,i("2aba")(n,m,h)}},cd1c:function(t,e,i){var n=i("e853");t.exports=function(t,e){return new(n(t))(e)}},e853:function(t,e,i){var n=i("d3f4"),o=i("1169"),s=i("2b4c")("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?Array:e}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);